{
  "info": {
    "name": "Clasificado API - JM Alpaca",
    "description": "Colección de pruebas para la API de Clasificado con casos exitosos y de error",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Caso Exitoso - Datos Correctos",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"clasificado\": {\n    \"nombreArchivo\": \"CLASIFICADO_001.xlsx\",\n    \"clasificador\": \"JUAN_PEREZ\",\n    \"fecha\": \"2025-01-03\",\n    \"observaciones\": \"Clasificación regular sin observaciones\",\n    \"importe_total\": 15000.00\n  },\n  \"clasificado_calidad\": {\n    \"ROYAL\": {\n      \"pesos\": [10.5, 12.3, 8.7],\n      \"total_kg\": 31.5\n    },\n    \"BL-B\": {\n      \"pesos\": [15.2, 18.8],\n      \"total_kg\": 34.0\n    },\n    \"BL-X\": {\n      \"pesos\": [20.0, 15.0],\n      \"total_kg\": 35.0\n    },\n    \"FS-B\": {\n      \"pesos\": [12.5, 10.5],\n      \"total_kg\": 23.0\n    },\n    \"FS-X\": {\n      \"pesos\": [8.0, 9.0],\n      \"total_kg\": 17.0\n    },\n    \"HZ-B\": {\n      \"pesos\": [5.0, 7.0],\n      \"total_kg\": 12.0\n    },\n    \"HZ-X\": {\n      \"pesos\": [6.0, 8.0],\n      \"total_kg\": 14.0\n    },\n    \"AG\": {\n      \"pesos\": [4.0],\n      \"total_kg\": 4.0\n    },\n    \"STD\": {\n      \"pesos\": [10.0, 15.0],\n      \"total_kg\": 25.0\n    },\n    \"SURI-BL\": {\n      \"pesos\": [3.0, 2.0],\n      \"total_kg\": 5.0\n    },\n    \"SURI-FS\": {\n      \"pesos\": [2.5, 2.5],\n      \"total_kg\": 5.0\n    },\n    \"SURI-HZ\": {\n      \"pesos\": [1.0, 2.0],\n      \"total_kg\": 3.0\n    }\n  },\n  \"clasificado_detalle\": {\n    \"ROYAL\": {\n      \"componentes\": [\"ROYAL\"],\n      \"total_kg\": 31.5,\n      \"precio_kg\": 150.00,\n      \"sub_total_importe\": 4725.00\n    },\n    \"BL\": {\n      \"componentes\": [\"BL-B\", \"BL-X\"],\n      \"total_kg\": 69.0,\n      \"precio_kg\": 80.00,\n      \"sub_total_importe\": 5520.00\n    },\n    \"FS\": {\n      \"componentes\": [\"FS-B\", \"FS-X\"],\n      \"total_kg\": 40.0,\n      \"precio_kg\": 60.00,\n      \"sub_total_importe\": 2400.00\n    },\n    \"HZ\": {\n      \"componentes\": [\"HZ-B\", \"HZ-X\", \"AG\"],\n      \"total_kg\": 30.0,\n      \"precio_kg\": 45.00,\n      \"sub_total_importe\": 1350.00\n    },\n    \"STD\": {\n      \"componentes\": [\"STD\"],\n      \"total_kg\": 25.0,\n      \"precio_kg\": 35.00,\n      \"sub_total_importe\": 875.00\n    },\n    \"SURI\": {\n      \"componentes\": [\"SURI-BL\", \"SURI-FS\"],\n      \"total_kg\": 10.0,\n      \"precio_kg\": 90.00,\n      \"sub_total_importe\": 900.00\n    },\n    \"SURI-HZ\": {\n      \"componentes\": [\"SURI-HZ\"],\n      \"total_kg\": 3.0,\n      \"precio_kg\": 76.67,\n      \"sub_total_importe\": 230.00\n    }\n  }\n}"
        },
        "url": {
          "raw": "http://localhost:8083/api/clasificado/registrar",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8083",
          "path": ["api", "clasificado", "registrar"]
        },
        "description": "Caso exitoso donde todas las validaciones pasan correctamente"
      },
      "response": []
    },
    {
      "name": "2. ERROR_PESO - Suma de pesos incorrecta",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"clasificado\": {\n    \"nombreArchivo\": \"CLASIFICADO_ERROR_001.xlsx\",\n    \"clasificador\": \"MARIA_LOPEZ\",\n    \"fecha\": \"2025-01-03\",\n    \"observaciones\": \"Error en peso de ROYAL\",\n    \"importe_total\": 5000.00\n  },\n  \"clasificado_calidad\": {\n    \"ROYAL\": {\n      \"pesos\": [10.0, 15.0, 8.0],\n      \"total_kg\": 50.0\n    },\n    \"BL-B\": {\n      \"pesos\": [20.0],\n      \"total_kg\": 20.0\n    },\n    \"BL-X\": {\n      \"pesos\": [15.0],\n      \"total_kg\": 15.0\n    },\n    \"FS-B\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"FS-X\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"HZ-B\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"HZ-X\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"AG\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"STD\": {\n      \"pesos\": [15.0],\n      \"total_kg\": 15.0\n    },\n    \"SURI-BL\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-FS\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-HZ\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    }\n  },\n  \"clasificado_detalle\": {\n    \"ROYAL\": {\n      \"componentes\": [\"ROYAL\"],\n      \"total_kg\": 50.0,\n      \"precio_kg\": 80.00,\n      \"sub_total_importe\": 4000.00\n    },\n    \"BL\": {\n      \"componentes\": [\"BL-B\", \"BL-X\"],\n      \"total_kg\": 35.0,\n      \"precio_kg\": 60.00,\n      \"sub_total_importe\": 2100.00\n    },\n    \"FS\": {\n      \"componentes\": [\"FS-B\", \"FS-X\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"HZ\": {\n      \"componentes\": [\"HZ-B\", \"HZ-X\", \"AG\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"STD\": {\n      \"componentes\": [\"STD\"],\n      \"total_kg\": 15.0,\n      \"precio_kg\": 60.00,\n      \"sub_total_importe\": 900.00\n    },\n    \"SURI\": {\n      \"componentes\": [\"SURI-BL\", \"SURI-FS\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"SURI-HZ\": {\n      \"componentes\": [\"SURI-HZ\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    }\n  }\n}"
        },
        "url": {
          "raw": "http://localhost:8083/api/clasificado/registrar",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8083",
          "path": ["api", "clasificado", "registrar"]
        },
        "description": "Error: La suma de pesos de ROYAL (33.0) no coincide con total_kg (50.0)"
      },
      "response": []
    },
    {
      "name": "3. ERROR_TOTAL_KG - Calidad vs Detalle",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"clasificado\": {\n    \"nombreArchivo\": \"CLASIFICADO_ERROR_002.xlsx\",\n    \"clasificador\": \"CARLOS_RAMIREZ\",\n    \"fecha\": \"2025-01-03\",\n    \"observaciones\": \"Error en total_kg de BL\",\n    \"importe_total\": 6000.00\n  },\n  \"clasificado_calidad\": {\n    \"ROYAL\": {\n      \"pesos\": [20.0],\n      \"total_kg\": 20.0\n    },\n    \"BL-B\": {\n      \"pesos\": [10.0, 5.0],\n      \"total_kg\": 15.0\n    },\n    \"BL-X\": {\n      \"pesos\": [12.0],\n      \"total_kg\": 12.0\n    },\n    \"FS-B\": {\n      \"pesos\": [18.0],\n      \"total_kg\": 18.0\n    },\n    \"FS-X\": {\n      \"pesos\": [15.0],\n      \"total_kg\": 15.0\n    },\n    \"HZ-B\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"HZ-X\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"AG\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"STD\": {\n      \"pesos\": [20.0],\n      \"total_kg\": 20.0\n    },\n    \"SURI-BL\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-FS\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-HZ\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    }\n  },\n  \"clasificado_detalle\": {\n    \"ROYAL\": {\n      \"componentes\": [\"ROYAL\"],\n      \"total_kg\": 20.0,\n      \"precio_kg\": 100.00,\n      \"sub_total_importe\": 2000.00\n    },\n    \"BL\": {\n      \"componentes\": [\"BL-B\", \"BL-X\"],\n      \"total_kg\": 50.0,\n      \"precio_kg\": 50.00,\n      \"sub_total_importe\": 2500.00\n    },\n    \"FS\": {\n      \"componentes\": [\"FS-B\", \"FS-X\"],\n      \"total_kg\": 33.0,\n      \"precio_kg\": 45.00,\n      \"sub_total_importe\": 1485.00\n    },\n    \"HZ\": {\n      \"componentes\": [\"HZ-B\", \"HZ-X\", \"AG\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"STD\": {\n      \"componentes\": [\"STD\"],\n      \"total_kg\": 20.0,\n      \"precio_kg\": 25.00,\n      \"sub_total_importe\": 500.00\n    },\n    \"SURI\": {\n      \"componentes\": [\"SURI-BL\", \"SURI-FS\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"SURI-HZ\": {\n      \"componentes\": [\"SURI-HZ\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    }\n  }\n}"
        },
        "url": {
          "raw": "http://localhost:8083/api/clasificado/registrar",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8083",
          "path": ["api", "clasificado", "registrar"]
        },
        "description": "Error: La suma de calidades BL (27.0) no coincide con el total_kg del detalle (50.0)"
      },
      "response": []
    },
    {
      "name": "4. ERROR_IMPORTE - Cálculo incorrecto",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"clasificado\": {\n    \"nombreArchivo\": \"CLASIFICADO_ERROR_003.xlsx\",\n    \"clasificador\": \"ANA_TORRES\",\n    \"fecha\": \"2025-01-03\",\n    \"observaciones\": \"Error en cálculo de importe de ROYAL\",\n    \"importe_total\": 8000.00\n  },\n  \"clasificado_calidad\": {\n    \"ROYAL\": {\n      \"pesos\": [25.0],\n      \"total_kg\": 25.0\n    },\n    \"BL-B\": {\n      \"pesos\": [20.0],\n      \"total_kg\": 20.0\n    },\n    \"BL-X\": {\n      \"pesos\": [15.0],\n      \"total_kg\": 15.0\n    },\n    \"FS-B\": {\n      \"pesos\": [10.0],\n      \"total_kg\": 10.0\n    },\n    \"FS-X\": {\n      \"pesos\": [5.0],\n      \"total_kg\": 5.0\n    },\n    \"HZ-B\": {\n      \"pesos\": [8.0],\n      \"total_kg\": 8.0\n    },\n    \"HZ-X\": {\n      \"pesos\": [7.0],\n      \"total_kg\": 7.0\n    },\n    \"AG\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"STD\": {\n      \"pesos\": [10.0],\n      \"total_kg\": 10.0\n    },\n    \"SURI-BL\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-FS\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-HZ\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    }\n  },\n  \"clasificado_detalle\": {\n    \"ROYAL\": {\n      \"componentes\": [\"ROYAL\"],\n      \"total_kg\": 25.0,\n      \"precio_kg\": 120.00,\n      \"sub_total_importe\": 5000.00\n    },\n    \"BL\": {\n      \"componentes\": [\"BL-B\", \"BL-X\"],\n      \"total_kg\": 35.0,\n      \"precio_kg\": 70.00,\n      \"sub_total_importe\": 2450.00\n    },\n    \"FS\": {\n      \"componentes\": [\"FS-B\", \"FS-X\"],\n      \"total_kg\": 15.0,\n      \"precio_kg\": 55.00,\n      \"sub_total_importe\": 825.00\n    },\n    \"HZ\": {\n      \"componentes\": [\"HZ-B\", \"HZ-X\", \"AG\"],\n      \"total_kg\": 15.0,\n      \"precio_kg\": 40.00,\n      \"sub_total_importe\": 600.00\n    },\n    \"STD\": {\n      \"componentes\": [\"STD\"],\n      \"total_kg\": 10.0,\n      \"precio_kg\": 30.00,\n      \"sub_total_importe\": 300.00\n    },\n    \"SURI\": {\n      \"componentes\": [\"SURI-BL\", \"SURI-FS\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"SURI-HZ\": {\n      \"componentes\": [\"SURI-HZ\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    }\n  }\n}"
        },
        "url": {
          "raw": "http://localhost:8083/api/clasificado/registrar",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8083",
          "path": ["api", "clasificado", "registrar"]
        },
        "description": "Error: El cálculo de ROYAL (25.0 * 120.00 = 3000.00) no coincide con sub_total_importe (5000.00)"
      },
      "response": []
    },
    {
      "name": "5. ERROR_IMPORTE_TOTAL - Total general incorrecto",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"clasificado\": {\n    \"nombreArchivo\": \"CLASIFICADO_ERROR_004.xlsx\",\n    \"clasificador\": \"PEDRO_SANCHEZ\",\n    \"fecha\": \"2025-01-03\",\n    \"observaciones\": \"Error en importe total general\",\n    \"importe_total\": 20000.00\n  },\n  \"clasificado_calidad\": {\n    \"ROYAL\": {\n      \"pesos\": [30.0],\n      \"total_kg\": 30.0\n    },\n    \"BL-B\": {\n      \"pesos\": [25.0],\n      \"total_kg\": 25.0\n    },\n    \"BL-X\": {\n      \"pesos\": [20.0],\n      \"total_kg\": 20.0\n    },\n    \"FS-B\": {\n      \"pesos\": [15.0],\n      \"total_kg\": 15.0\n    },\n    \"FS-X\": {\n      \"pesos\": [10.0],\n      \"total_kg\": 10.0\n    },\n    \"HZ-B\": {\n      \"pesos\": [5.0],\n      \"total_kg\": 5.0\n    },\n    \"HZ-X\": {\n      \"pesos\": [5.0],\n      \"total_kg\": 5.0\n    },\n    \"AG\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"STD\": {\n      \"pesos\": [10.0],\n      \"total_kg\": 10.0\n    },\n    \"SURI-BL\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-FS\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-HZ\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    }\n  },\n  \"clasificado_detalle\": {\n    \"ROYAL\": {\n      \"componentes\": [\"ROYAL\"],\n      \"total_kg\": 30.0,\n      \"precio_kg\": 100.00,\n      \"sub_total_importe\": 3000.00\n    },\n    \"BL\": {\n      \"componentes\": [\"BL-B\", \"BL-X\"],\n      \"total_kg\": 45.0,\n      \"precio_kg\": 60.00,\n      \"sub_total_importe\": 2700.00\n    },\n    \"FS\": {\n      \"componentes\": [\"FS-B\", \"FS-X\"],\n      \"total_kg\": 25.0,\n      \"precio_kg\": 50.00,\n      \"sub_total_importe\": 1250.00\n    },\n    \"HZ\": {\n      \"componentes\": [\"HZ-B\", \"HZ-X\", \"AG\"],\n      \"total_kg\": 10.0,\n      \"precio_kg\": 40.00,\n      \"sub_total_importe\": 400.00\n    },\n    \"STD\": {\n      \"componentes\": [\"STD\"],\n      \"total_kg\": 10.0,\n      \"precio_kg\": 30.00,\n      \"sub_total_importe\": 300.00\n    },\n    \"SURI\": {\n      \"componentes\": [\"SURI-BL\", \"SURI-FS\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"SURI-HZ\": {\n      \"componentes\": [\"SURI-HZ\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    }\n  }\n}"
        },
        "url": {
          "raw": "http://localhost:8083/api/clasificado/registrar",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8083",
          "path": ["api", "clasificado", "registrar"]
        },
        "description": "Error: La suma de sub_total_importe (7650.00) no coincide con importe_total (20000.00)"
      },
      "response": []
    },
    {
      "name": "6. MÚLTIPLES ERRORES - Varios errores combinados",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"clasificado\": {\n    \"nombreArchivo\": \"CLASIFICADO_ERROR_MULTIPLE.xlsx\",\n    \"clasificador\": \"LUCIA_MENDEZ\",\n    \"fecha\": \"2025-01-03\",\n    \"observaciones\": \"Múltiples errores de validación\",\n    \"importe_total\": 10000.00\n  },\n  \"clasificado_calidad\": {\n    \"ROYAL\": {\n      \"pesos\": [10.0, 5.0],\n      \"total_kg\": 20.0\n    },\n    \"BL-B\": {\n      \"pesos\": [15.0],\n      \"total_kg\": 15.0\n    },\n    \"BL-X\": {\n      \"pesos\": [10.0],\n      \"total_kg\": 10.0\n    },\n    \"FS-B\": {\n      \"pesos\": [8.0],\n      \"total_kg\": 8.0\n    },\n    \"FS-X\": {\n      \"pesos\": [7.0],\n      \"total_kg\": 7.0\n    },\n    \"HZ-B\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"HZ-X\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"AG\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"STD\": {\n      \"pesos\": [5.0],\n      \"total_kg\": 5.0\n    },\n    \"SURI-BL\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-FS\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    },\n    \"SURI-HZ\": {\n      \"pesos\": [],\n      \"total_kg\": 0.0\n    }\n  },\n  \"clasificado_detalle\": {\n    \"ROYAL\": {\n      \"componentes\": [\"ROYAL\"],\n      \"total_kg\": 20.0,\n      \"precio_kg\": 80.00,\n      \"sub_total_importe\": 2000.00\n    },\n    \"BL\": {\n      \"componentes\": [\"BL-B\", \"BL-X\"],\n      \"total_kg\": 30.0,\n      \"precio_kg\": 55.00,\n      \"sub_total_importe\": 1650.00\n    },\n    \"FS\": {\n      \"componentes\": [\"FS-B\", \"FS-X\"],\n      \"total_kg\": 15.0,\n      \"precio_kg\": 45.00,\n      \"sub_total_importe\": 675.00\n    },\n    \"HZ\": {\n      \"componentes\": [\"HZ-B\", \"HZ-X\", \"AG\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"STD\": {\n      \"componentes\": [\"STD\"],\n      \"total_kg\": 5.0,\n      \"precio_kg\": 35.00,\n      \"sub_total_importe\": 175.00\n    },\n    \"SURI\": {\n      \"componentes\": [\"SURI-BL\", \"SURI-FS\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    },\n    \"SURI-HZ\": {\n      \"componentes\": [\"SURI-HZ\"],\n      \"total_kg\": 0.0,\n      \"precio_kg\": 0.00,\n      \"sub_total_importe\": 0.00\n    }\n  }\n}"
        },
        "url": {
          "raw": "http://localhost:8083/api/clasificado/registrar",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8083",
          "path": ["api", "clasificado", "registrar"]
        },
        "description": "Error múltiple: ERROR_PESO, ERROR_TOTAL_KG, ERROR_IMPORTE y ERROR_IMPORTE_TOTAL"
      },
      "response": []
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8083",
      "type": "string"
    }
  ]
}
